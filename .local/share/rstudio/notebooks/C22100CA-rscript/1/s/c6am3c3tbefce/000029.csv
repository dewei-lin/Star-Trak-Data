"0","work_d <- work_d %>%"
"0","  mutate(Half = ifelse(Season %in% c(1, 2, 3), 0, 1)) %>%"
"0","  select(-Season)"
"0",""
"0",""
"0","# Train a GBM model for binary classification (first half vs. second half)"
"0","set.seed(123)"
"0","model_gbm <- gbm("
"0","  formula = Half ~ .,"
"0","  data = work_d,"
"0","  distribution = ""bernoulli"",  # Binary classification"
"0","  n.trees = 500,               # Number of boosting iterations"
"0","  interaction.depth = 3,       # Tree depth"
"0","  n.minobsinnode = 10,         # Minimum number of observations in nodes"
"0","  shrinkage = 0.01,             # Learning rate"
"0","  verbose = FALSE"
"0",")"
"0",""
"0","# Predict probabilities for the ""second_half"" class (1)"
"0","predicted_probabilities <- predict(model_gbm, newdata = work_d, n.trees = 100, type = ""response"")"
"0",""
"0","# Calculate the ROC curve and AUC"
"0","roc_curve <- roc(work_d$Half, predicted_probabilities)"
"2","Setting levels: control = 0, case = 1
"
"2","Setting direction: controls < cases
"
"0","auc_value <- auc(roc_curve)"
"0",""
"0","# Plot the ROC curve"
"0","plot(roc_curve, main = ""ROC Curve for First Half vs. Second Half Classification"", col = ""blue"")"
